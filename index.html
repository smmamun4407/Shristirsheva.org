<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶∏‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶∞ ‡¶∏‡ßá‡¶¨‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;600;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CSS Variables --- */
        :root {
            --primary: #0066cc;
            --secondary: #28a745;
            --dark: #2d3436;
            --light: #f8f9fa;
            --white: #ffffff;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', 'Hind Siliguri', sans-serif; scroll-behavior: smooth; }
        body { background-color: var(--light); color: var(--dark); overflow-x: hidden; }

        /* --- UI Elements --- */
        header {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 5%;
            position: fixed; width: 100%; top: 0; z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            display: flex; justify-content: space-between; align-items: center;
        }

        .logo { font-size: 1.5rem; font-weight: 700; color: var(--primary); display: flex; align-items: center; gap: 10px; }
        .logo img { height: 40px; } /* Dynamic Logo */

        nav ul { display: flex; list-style: none; gap: 20px; align-items: center; }
        nav a { text-decoration: none; color: var(--dark); font-weight: 500; cursor: pointer; transition: 0.3s; }
        nav a:hover { color: var(--primary); }

        .btn-donate {
            background: var(--secondary); color: white; padding: 8px 20px;
            border-radius: 30px; font-weight: 600; cursor: pointer; border: none;
        }

        /* --- Hero Section --- */
        .hero {
            height: 90vh;
            background-size: cover; background-position: center;
            display: flex; align-items: center; justify-content: center;
            text-align: center; color: white; margin-top: 60px; position: relative;
        }
        .hero::before { content: ''; position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.6); }
        .hero-content { position: relative; z-index: 1; }
        .hero h1 { font-size: 3rem; margin-bottom: 20px; }

        /* --- Sections --- */
        .section { padding: 60px 10%; }
        .section-title { text-align: center; font-size: 2.2rem; margin-bottom: 40px; color: var(--primary); }

        /* --- Cards --- */
        .grid-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .card { background: white; padding: 20px; border-radius: 10px; box-shadow: var(--shadow); }
        .card img { width: 100%; height: 200px; object-fit: cover; border-radius: 10px; margin-bottom: 10px; }

        /* --- Member Card --- */
        .member-card { text-align: center; background: white; padding: 20px; border-radius: 15px; box-shadow: var(--shadow); }
        .member-card img { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 3px solid var(--primary); margin-bottom: 10px; }

        /* --- User Post Form --- */
        .post-form-area { background: white; padding: 30px; border-radius: 15px; max-width: 600px; margin: 0 auto; box-shadow: var(--shadow); }
        input, textarea, select { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; }

        /* --- Admin Modal (Full Screen) --- */
        #adminPanel {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #f4f6f9; z-index: 2000; overflow-y: auto;
        }
        .admin-header { background: #343a40; color: white; padding: 15px 5%; display: flex; justify-content: space-between; }
        .admin-container { padding: 20px 5%; max-width: 1200px; margin: 0 auto; }
        .admin-tab { margin-bottom: 20px; }
        .admin-tab button { padding: 10px 20px; cursor: pointer; border: none; background: #ddd; margin-right: 5px; }
        .admin-tab button.active { background: var(--primary); color: white; }
        .tab-content { display: none; background: white; padding: 20px; border-radius: 10px; }
        .tab-content.active { display: block; }
        
        .editable-border { border: 2px dashed red; padding: 5px; } /* Visual cue for editing */
        
        /* --- Payment Popup --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7); display: none; justify-content: center;
            align-items: center; z-index: 3000;
        }
        .pay-box { background: white; width: 90%; max-width: 400px; padding: 30px; border-radius: 15px; text-align: center; position: relative; }
        .copy-box { background: #eee; padding: 10px; margin: 10px 0; border-radius: 5px; cursor: pointer; font-weight: bold; border: 1px dashed #999; }
        
        /* Visitor Counter */
        .visitor-counter { font-size: 0.8rem; background: #333; color: white; padding: 5px 10px; border-radius: 20px; }

        /* Button Styles */
        .btn-primary { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
        .btn-danger { background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; }
        .btn-success { background: var(--secondary); color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; }

    </style>
</head>
<body>

    <header>
        <div class="logo" id="siteLogo">
            <i class="fas fa-hands-holding-child"></i> <span>‡¶∏‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶∞ ‡¶∏‡ßá‡¶¨‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®</span>
        </div>
        <nav>
            <ul>
                <li><a href="#home">‡¶π‡ßã‡¶Æ</a></li>
                <li><a href="#activities">‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ</a></li>
                <li><a href="#userposts">‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§</a></li>
                <li><span class="visitor-counter" id="viewCountDisplay">üëÅ ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü: 0</span></li>
                <li><a onclick="openAdminLogin()" style="color: red;"><i class="fas fa-user-shield"></i> ‡¶è‡¶°‡¶Æ‡¶ø‡¶®</a></li>
                <li><button class="btn-donate" onclick="openDonateModal()">‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button></li>
            </ul>
        </nav>
    </header>

    <section class="hero" id="heroSection">
        <div class="hero-content">
            <h1 id="editableHeroTitle">‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡ßá‡¶∞ ‡¶∏‡ßá‡¶¨‡¶æ‡¶á ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶¨‡ßç‡¶∞‡¶§</h1>
            <p id="editableHeroText">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡ßã‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶¶‡¶æ‡¶® ‡¶è‡¶ï‡¶ú‡¶® ‡¶Ö‡¶∏‡¶π‡¶æ‡¶Ø‡¶º ‡¶Æ‡¶æ‡¶®‡ßÅ‡¶∑‡ßá‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá ‡¶π‡¶æ‡¶∏‡¶ø ‡¶´‡ßã‡¶ü‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§</p>
            <br>
            <button class="btn-donate" style="font-size: 1.2rem; padding: 15px 30px;" onclick="openDonateModal()">
                ‡¶è‡¶ñ‡¶®‡¶á ‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
            </button>
        </div>
    </section>

    <section class="section" id="activities">
        <h2 class="section-title">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ</h2>
        <div class="grid-container" id="activityList">
            </div>
    </section>

    <section class="section" style="background: #eef2f3;">
        <h2 class="section-title">‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ì ‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞</h2>
        <div class="grid-container" id="membersList">
            </div>
    </section>

    <section class="section" id="userposts">
        <h2 class="section-title">‡¶∏‡¶¨‡¶æ‡¶∞ ‡¶ï‡¶•‡¶æ (‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§)</h2>
        
        <div class="post-form-area">
            <h3>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</h3>
            <input type="text" id="userPostName" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ">
            <textarea id="userPostContent" rows="3" placeholder="‡¶ï‡¶ø ‡¶¨‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?"></textarea>
            <button class="btn-primary" onclick="submitUserPost()">‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <p style="font-size: 0.8rem; color: #666; margin-top: 5px;">* ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶è‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§</p>
        </div>

        <div style="margin-top: 30px;" class="grid-container" id="publicPostList">
            </div>
    </section>

    <footer style="background:#222; color:white; padding:30px; text-align:center;">
        <p>&copy; ‡ß®‡ß¶‡ß®‡ß¨ ‡¶∏‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶∞ ‡¶∏‡ßá‡¶¨‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®</p>
    </footer>


    <div class="modal-overlay" id="loginModal">
        <div class="pay-box">
            <span onclick="closeModal('loginModal')" style="float:right; cursor:pointer; font-size:20px;">&times;</span>
            <h2>‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶≤‡¶ó‡¶á‡¶®</h2>
            <input type="text" id="adminUser" placeholder="‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶®‡ßá‡¶Æ">
            <input type="password" id="adminPass" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°">
            <button class="btn-primary" onclick="checkLogin()">‡¶≤‡¶ó‡¶á‡¶®</button>
        </div>
    </div>

    <div class="modal-overlay" id="donateModal">
        <div class="pay-box">
            <span onclick="closeModal('donateModal')" style="float:right; cursor:pointer; font-size:20px;">&times;</span>
            <h2 style="color: var(--primary);">‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®</h2>
            <p>‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßá‡¶•‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</p>
            <select id="paymentMethod" onchange="updatePaymentNumber()" style="margin: 15px 0;">
                <option value="">‡¶Æ‡ßá‡¶•‡¶° ‡¶¨‡¶æ‡¶õ‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®</option>
                <option value="bkash">‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ (Send Money)</option>
                <option value="nagad">‡¶®‡¶ó‡¶¶ (Send Money)</option>
                <option value="rocket">‡¶∞‡¶ï‡ßá‡¶ü</option>
            </select>
            
            <div id="paymentDetails" style="display:none;">
                <p>‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶® (‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®):</p>
                <div class="copy-box" onclick="copyNumber()" id="displayNumber">Loading...</div>
                <span id="copyMsg" style="font-size:0.8rem; color:green; display:none;">‡¶ï‡¶™‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá!</span>
                
                <input type="text" placeholder="Transaction ID ‡¶¶‡¶ø‡¶®" style="margin-top:10px;">
                <button class="btn-primary" onclick="alert('‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶! ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡¶¨‡•§')">‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü</button>
            </div>
        </div>
    </div>

    <div id="adminPanel">
        <div class="admin-header">
            <h2>‚öôÔ∏è ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°</h2>
            <div>
                <button class="btn-success" onclick="togglePageEditMode()">üìù ‡¶™‡ßá‡¶ú ‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶° (‡¶Ö‡¶®/‡¶Ö‡¶´)</button>
                <button class="btn-danger" onclick="logout()">‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</button>
                <button class="btn-danger" onclick="closeAdminPanel()">‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>

        <div class="admin-container">
            <div class="admin-tab">
                <button class="active" onclick="showTab('tabSettings')">‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</button>
                <button onclick="showTab('tabPosts')">‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ ‡¶™‡ßã‡¶∏‡ßç‡¶ü</button>
                <button onclick="showTab('tabMembers')">‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú</button>
                <button onclick="showTab('tabUserPosts')">‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶™‡ßã‡¶∏‡ßç‡¶ü</button>
                <button onclick="showTab('tabPayment')">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç</button>
            </div>

            <div id="tabSettings" class="tab-content active">
                <h3>‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏</h3>
                <label>‡¶≤‡ßã‡¶ó‡ßã ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® (URL ‡¶¨‡¶æ ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤):</label>
                <input type="file" id="logoUpload" onchange="changeLogo(this)">
                
                <label>‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶õ‡¶¨‡¶ø ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®:</label>
                <input type="file" id="bgUpload" onchange="changeHeroBg(this)">

                <h3>‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø</h3>
                <input type="text" id="newAdminUser" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ">
                <input type="text" id="newAdminPass" placeholder="‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°">
                <button class="btn-primary" onclick="updateCredentials()">‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                
                <hr style="margin:20px 0;">
                <input type="text" id="createNewAdminName" placeholder="‡¶Ü‡¶∞‡ßá‡¶ï‡¶ú‡¶® ‡¶è‡¶°‡¶Æ‡¶ø‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ">
                <input type="text" id="createNewAdminPass" placeholder="‡¶§‡¶æ‡¶∞ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°">
                <button class="btn-success" onclick="addNewAdmin()">‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>

            <div id="tabPosts" class="tab-content">
                <h3>‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                <input type="text" id="postTitle" placeholder="‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ">
                <textarea id="postDesc" placeholder="‡¶¨‡¶ø‡¶¨‡¶∞‡¶£"></textarea>
                <input type="file" id="postImg">
                <button class="btn-primary" onclick="addActivity()">‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                
                <div style="margin-top:20px;">
                    <h4>‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá‡¶∞ ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶∏‡¶Æ‡ßÇ‡¶π (‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®)</h4>
                    <div id="adminActivityList"></div>
                </div>
            </div>

            <div id="tabMembers" class="tab-content">
                <h3>‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                <input type="text" id="mName" placeholder="‡¶®‡¶æ‡¶Æ">
                <input type="text" id="mRole" placeholder="‡¶™‡¶¶‡¶¨‡ßÄ">
                <input type="text" id="mContact" placeholder="‡¶´‡ßã‡¶®">
                <input type="file" id="mPhoto">
                <button class="btn-primary" onclick="addMember()">‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                <div id="adminMemberList" style="margin-top:20px;"></div>
            </div>

            <div id="tabUserPosts" class="tab-content">
                <h3>‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßã‡¶∏‡ßç‡¶ü (Approval)</h3>
                <div id="pendingPostList"></div>
            </div>

            <div id="tabPayment" class="tab-content">
                <h3>‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®</h3>
                <label>‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞:</label>
                <input type="text" id="setBkash">
                <label>‡¶®‡¶ó‡¶¶ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞:</label>
                <input type="text" id="setNagad">
                <label>‡¶∞‡¶ï‡ßá‡¶ü ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞:</label>
                <input type="text" id="setRocket">
                <button class="btn-primary" onclick="savePaymentSettings()">‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </div>
        </div>
    </div>

    <script>
        // --- INITIALIZATION ---
        // ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ (‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞ ‡¶∞‡¶æ‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø)
        const defaultData = {
            config: {
                username: "mamun4798",
                password: "244505@#",
                logo: "", // Default empty
                heroBg: "https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",
                payment: { bkash: "017XXXXXXXX", nagad: "018XXXXXXXX", rocket: "019XXXXXXXX" },
                viewCount: 0,
                admins: [] // For multiple admins
            },
            activities: [],
            members: [],
            userPosts: []
        };

        // ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡ßá‡¶ú ‡¶•‡ßá‡¶ï‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
        function getDB() {
            let db = localStorage.getItem('ssf_db');
            if (!db) {
                localStorage.setItem('ssf_db', JSON.stringify(defaultData));
                return defaultData;
            }
            return JSON.parse(db);
        }

        function saveDB(data) {
            localStorage.setItem('ssf_db', JSON.stringify(data));
        }

        // --- PAGE LOAD EVENTS ---
        document.addEventListener("DOMContentLoaded", () => {
            let db = getDB();
            
            // 1. Visitor Count Increment
            db.config.viewCount++;
            saveDB(db);
            document.getElementById('viewCountDisplay').innerText = `üëÅ ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü: ${db.config.viewCount}`;

            // 2. Load Styles & Content
            if(db.config.heroBg) document.getElementById('heroSection').style.backgroundImage = `url('${db.config.heroBg}')`;
            if(db.config.logo) document.querySelector('.logo').innerHTML = `<img src="${db.config.logo}"> ‡¶∏‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶∞ ‡¶∏‡ßá‡¶¨‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®`;

            // 3. Load Contents
            renderActivities();
            renderMembers();
            renderPublicUserPosts();
        });


        // --- AUTH SYSTEM ---
        function openAdminLogin() { document.getElementById('loginModal').style.display = 'flex'; }
        
        function checkLogin() {
            let u = document.getElementById('adminUser').value;
            let p = document.getElementById('adminPass').value;
            let db = getDB();

            // Check Main Admin or Sub Admins
            let isMain = (u === db.config.username && p === db.config.password);
            let isSub = db.config.admins.some(a => a.user === u && a.pass === p);

            if (isMain || isSub) {
                document.getElementById('loginModal').style.display = 'none';
                document.getElementById('adminPanel').style.display = 'block';
                loadAdminData(); // Load admin inputs
            } else {
                alert('‡¶≠‡ßÅ‡¶≤ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶®‡ßá‡¶Æ ‡¶¨‡¶æ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°!');
            }
        }

        function logout() {
            document.getElementById('adminPanel').style.display = 'none';
            disablePageEditMode(); // Edit mode off on logout
        }

        function closeAdminPanel() {
            document.getElementById('adminPanel').style.display = 'none';
        }

        // --- ADMIN: CREDENTIALS & SETTINGS ---
        function updateCredentials() {
            let u = document.getElementById('newAdminUser').value;
            let p = document.getElementById('newAdminPass').value;
            if(u && p) {
                let db = getDB();
                db.config.username = u;
                db.config.password = p;
                saveDB(db);
                alert("‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
            }
        }

        function addNewAdmin() {
            let u = document.getElementById('createNewAdminName').value;
            let p = document.getElementById('createNewAdminPass').value;
            if(u && p) {
                let db = getDB();
                db.config.admins.push({user: u, pass: p});
                saveDB(db);
                alert("‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
            }
        }

        // --- ADMIN: PAGE EDITING (CMS) ---
        let editMode = false;
        function togglePageEditMode() {
            editMode = !editMode;
            const title = document.getElementById('editableHeroTitle');
            const text = document.getElementById('editableHeroText');
            
            if (editMode) {
                alert("‡¶è‡¶°‡¶ø‡¶ü ‡¶Æ‡ßã‡¶° ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶≤‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶â‡¶™‡¶∞ ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§");
                title.contentEditable = "true";
                text.contentEditable = "true";
                title.classList.add('editable-border');
                text.classList.add('editable-border');
            } else {
                title.contentEditable = "false";
                text.contentEditable = "false";
                title.classList.remove('editable-border');
                text.classList.remove('editable-border');
                // Save content logic could be added here to persistent storage
            }
        }
        function disablePageEditMode() {
            if(editMode) togglePageEditMode();
        }

        // --- ADMIN: LOGO & BG ---
        function fileToBase64(file, callback) {
            if(file.size > 500000) { alert("‡¶õ‡¶¨‡¶ø ‡¶Ö‡¶®‡ßá‡¶ï ‡¶¨‡ßú! ‡ß´‡ß¶‡ß¶KB ‡¶è‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá ‡¶¶‡¶ø‡¶®‡•§"); return; }
            const reader = new FileReader();
            reader.readAsDataURL(file);
            reader.onload = (e) => callback(e.target.result);
        }

        function changeLogo(input) {
            if(input.files[0]) {
                fileToBase64(input.files[0], (base64) => {
                    let db = getDB();
                    db.config.logo = base64;
                    saveDB(db);
                    document.querySelector('.logo').innerHTML = `<img src="${base64}"> ‡¶∏‡ßÉ‡¶∑‡ßç‡¶ü‡¶ø‡¶∞ ‡¶∏‡ßá‡¶¨‡¶æ ‡¶´‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá‡¶∂‡¶®`;
                });
            }
        }

        function changeHeroBg(input) {
            if(input.files[0]) {
                fileToBase64(input.files[0], (base64) => {
                    let db = getDB();
                    db.config.heroBg = base64;
                    saveDB(db);
                    document.getElementById('heroSection').style.backgroundImage = `url('${base64}')`;
                });
            }
        }

        // --- ADMIN: ACTIVITIES ---
        function addActivity() {
            const title = document.getElementById('postTitle').value;
            const desc = document.getElementById('postDesc').value;
            const file = document.getElementById('postImg').files[0];

            if(!title || !file) { alert("‡¶ü‡¶æ‡¶á‡¶ü‡ßá‡¶≤ ‡¶è‡¶¨‡¶Ç ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶¨‡¶∂‡ßç‡¶Ø‡¶ï"); return; }

            fileToBase64(file, (imgData) => {
                let db = getDB();
                db.activities.unshift({ id: Date.now(), title, desc, img: imgData });
                saveDB(db);
                renderActivities();
                loadAdminData(); // Refresh admin list
                alert("‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
            });
        }

        function renderActivities() {
            let db = getDB();
            let html = "";
            db.activities.forEach(act => {
                html += `
                    <div class="card">
                        <img src="${act.img}">
                        <h3>${act.title}</h3>
                        <p>${act.desc}</p>
                    </div>
                `;
            });
            document.getElementById('activityList').innerHTML = html;
        }

        // --- ADMIN: MEMBERS ---
        function addMember() {
            const name = document.getElementById('mName').value;
            const role = document.getElementById('mRole').value;
            const contact = document.getElementById('mContact').value;
            const file = document.getElementById('mPhoto').files[0];

            if(!name) return;

            const processMember = (img) => {
                let db = getDB();
                db.members.push({ id: Date.now(), name, role, contact, img });
                saveDB(db);
                renderMembers();
                loadAdminData();
                alert("‡¶Æ‡ßá‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
            };

            if(file) fileToBase64(file, processMember);
            else processMember("https://cdn-icons-png.flaticon.com/512/3135/3135715.png");
        }

        function renderMembers() {
            let db = getDB();
            let html = "";
            db.members.forEach(m => {
                html += `
                    <div class="member-card">
                        <img src="${m.img}">
                        <h3>${m.name}</h3>
                        <p>${m.role}</p>
                        <small>${m.contact}</small>
                    </div>
                `;
            });
            document.getElementById('membersList').innerHTML = html;
        }

        // --- USER POSTS & MODERATION ---
        function submitUserPost() {
            let name = document.getElementById('userPostName').value;
            let content = document.getElementById('userPostContent').value;
            if(!name || !content) { alert("‡¶®‡¶æ‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶¶‡¶ø‡¶®"); return; }

            let db = getDB();
            db.userPosts.push({ id: Date.now(), name, content, status: 'pending' });
            saveDB(db);
            alert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶ú‡¶Æ‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§ ‡¶è‡¶°‡¶Æ‡¶ø‡¶® ‡¶è‡¶™‡ßç‡¶∞‡ßÅ‡¶≠ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§");
            document.getElementById('userPostContent').value = "";
        }

        function renderPublicUserPosts() {
            let db = getDB();
            let html = "";
            db.userPosts.filter(p => p.status === 'approved').forEach(p => {
                html += `
                    <div class="card" style="text-align:left;">
                        <h4>${p.name}</h4>
                        <p>${p.content}</p>
                    </div>
                `;
            });
            document.getElementById('publicPostList').innerHTML = html;
        }

        function approvePost(id) {
            let db = getDB();
            let post = db.userPosts.find(p => p.id === id);
            if(post) post.status = 'approved';
            saveDB(db);
            loadAdminData();
            renderPublicUserPosts();
        }

        function deletePost(id) {
            let db = getDB();
            db.userPosts = db.userPosts.filter(p => p.id !== id);
            saveDB(db);
            loadAdminData();
            renderPublicUserPosts();
        }

        // --- PAYMENT SYSTEM ---
        function openDonateModal() { document.getElementById('donateModal').style.display = 'flex'; }
        
        function updatePaymentNumber() {
            let method = document.getElementById('paymentMethod').value;
            let details = document.getElementById('paymentDetails');
            let numDisplay = document.getElementById('displayNumber');
            let db = getDB();

            if(method) {
                details.style.display = 'block';
                numDisplay.innerText = db.config.payment[method] || "‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶®‡ßá‡¶á";
            } else {
                details.style.display = 'none';
            }
        }

        function copyNumber() {
            let text = document.getElementById('displayNumber').innerText;
            navigator.clipboard.writeText(text);
            document.getElementById('copyMsg').style.display = 'inline';
            setTimeout(() => document.getElementById('copyMsg').style.display = 'none', 2000);
        }

        function savePaymentSettings() {
            let db = getDB();
            db.config.payment.bkash = document.getElementById('setBkash').value;
            db.config.payment.nagad = document.getElementById('setNagad').value;
            db.config.payment.rocket = document.getElementById('setRocket').value;
            saveDB(db);
            alert("‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
        }

        // --- HELPER FUNCTIONS ---
        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-tab button').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');
        }

        function closeModal(id) { document.getElementById(id).style.display = 'none'; }

        function loadAdminData() {
            let db = getDB();
            
            // Fill Payment Inputs
            document.getElementById('setBkash').value = db.config.payment.bkash;
            document.getElementById('setNagad').value = db.config.payment.nagad;
            document.getElementById('setRocket').value = db.config.payment.rocket;

            // Fill Activity List (Admin View)
            let actHtml = "";
            db.activities.forEach(a => {
                actHtml += `<div style="border-bottom:1px solid #ddd; padding:5px;">
                    <b>${a.title}</b> <button class="btn-danger" onclick="deleteActivity(${a.id})">Delete</button>
                </div>`;
            });
            document.getElementById('adminActivityList').innerHTML = actHtml;

            // Fill Pending Posts
            let postHtml = "";
            db.userPosts.filter(p => p.status === 'pending').forEach(p => {
                postHtml += `<div style="background:#eee; padding:10px; margin-bottom:5px;">
                    <b>${p.name}:</b> ${p.content} <br>
                    <button class="btn-success" onclick="approvePost(${p.id})">Approve</button>
                    <button class="btn-danger" onclick="deletePost(${p.id})">Delete</button>
                </div>`;
            });
            document.getElementById('pendingPostList').innerHTML = postHtml || "‡¶ï‡ßã‡¶® ‡¶™‡ßá‡¶®‡ßç‡¶°‡¶ø‡¶Ç ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶®‡ßá‡¶á‡•§";
        }
        
        function deleteActivity(id) {
             let db = getDB();
             db.activities = db.activities.filter(a => a.id !== id);
             saveDB(db);
             renderActivities();
             loadAdminData();
        }

    </script>
</body>
</html>
